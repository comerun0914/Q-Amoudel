import{u as N,a as q,r as g,i as D,c as l,o as m,d as p,f as s,w as o,e as a,h as u,F as w,g as y,j as H,t as f,D as I,k as V,m as R}from"./index-90a1d7b0.js";import{_ as B}from"./_plugin-vue_export-helper-c27b6911.js";import{S as F}from"./SettingOutlined-9aa5e4f1.js";import{L as Q}from"./LogoutOutlined-9fb544b7.js";import{U as j}from"./UserOutlined-9d80a557.js";const z={class:"home-page"},G={class:"navbar"},J={class:"nav-links"},K={class:"user-info"},P={class:"username"},W={class:"user-role"},X={class:"welcome-section"},Y={class:"role-info"},Z={class:"quick-actions"},$={class:"action-cards"},ee={__name:"Home",setup(se){const r=N(),i=q(),c=g("æµ‹è¯•ç”¨æˆ·"),d=g(""),n=g("");D(()=>{try{const t=i.userInfo;if(t&&t.username)if(c.value=t.username,d.value=t.avatar_url||"",t.role!==void 0)switch(t.role){case i.USER_ROLES.TEACHER_ADMIN:n.value="æ•™å¸ˆ/ç®¡ç†å‘˜";break;case i.USER_ROLES.NORMAL_USER:n.value="æ™®é€šç”¨æˆ·";break;default:n.value="æœªçŸ¥è§’è‰²";break}else n.value="æœªè®¾ç½®è§’è‰²";else t&&t.name?(c.value=t.name,d.value=t.avatar||"",n.value="ç”¨æˆ·"):(c.value="æµ‹è¯•ç”¨æˆ·",d.value="",n.value="æµ‹è¯•ç”¨æˆ·",console.log("ä½¿ç”¨é»˜è®¤ç”¨æˆ·ä¿¡æ¯è¿›è¡Œæµ‹è¯•"))}catch(t){console.error("è·å–ç”¨æˆ·ä¿¡æ¯å¤±è´¥:",t),c.value="æµ‹è¯•ç”¨æˆ·",d.value="",n.value="æµ‹è¯•ç”¨æˆ·"}});const C=()=>{r.push("/questionnaire/management")},E=()=>{r.push("/manual-create")},S=()=>{r.push("/questionnaire/statistics")},h=()=>{r.push("/user")},T=()=>{r.push("/questionnaire/fill")},x=async()=>{try{await i.logout(),R.success("é€€å‡ºç™»å½•æˆåŠŸ"),r.push("/login")}catch(t){console.error("é€€å‡ºç™»å½•å¤±è´¥:",t),R.error("é€€å‡ºç™»å½•å¤±è´¥"),r.push("/login")}};return(t,e)=>{const M=l("a-avatar"),k=l("a-menu-item"),O=l("a-menu-divider"),U=l("a-menu"),b=l("a-dropdown"),A=l("a-layout-header"),_=l("a-card-meta"),v=l("a-card"),L=l("a-layout-content");return m(),p("div",z,[s(A,{class:"header"},{default:o(()=>[a("div",G,[e[6]||(e[6]=a("div",{class:"logo"},"å¹¼å„¿æ˜Ÿ",-1)),a("div",J,[e[1]||(e[1]=a("a",{href:"#",class:"nav-link"},"é¦–é¡µ",-1)),u(i).hasManagementAccess?(m(),p(w,{key:0},[a("a",{href:"#",class:"nav-link",onClick:C},"é—®å·ç®¡ç†"),a("a",{href:"#",class:"nav-link",onClick:S},"æ•°æ®ç»Ÿè®¡")],64)):(m(),p("a",{key:1,href:"#",class:"nav-link",onClick:h},"ç”¨æˆ·ä¸­å¿ƒ")),e[2]||(e[2]=a("a",{href:"#",class:"nav-link"},"å¸®åŠ©ä¸­å¿ƒ",-1))]),a("div",K,[s(b,null,{overlay:o(()=>[s(U,null,{default:o(()=>[s(k,{key:"profile"},{default:o(()=>[s(u(j)),e[3]||(e[3]=y(" ä¸ªäººèµ„æ–™ ",-1))]),_:1,__:[3]}),s(k,{key:"settings"},{default:o(()=>[s(u(F)),e[4]||(e[4]=y(" è®¾ç½® ",-1))]),_:1,__:[4]}),s(O),s(k,{key:"logout",onClick:x},{default:o(()=>[s(u(Q)),e[5]||(e[5]=y(" é€€å‡ºç™»å½• ",-1))]),_:1,__:[5]})]),_:1})]),default:o(()=>[a("a",{class:"ant-dropdown-link",onClick:e[0]||(e[0]=H(()=>{},["prevent"]))},[s(M,{src:d.value,class:"user-avatar"},null,8,["src"]),a("span",P,f(c.value),1),a("span",W,"("+f(n.value)+")",1),s(u(I))])]),_:1})])])]),_:1}),s(L,{class:"main-content"},{default:o(()=>[a("div",X,[a("h1",null,"æ¬¢è¿å›æ¥ï¼Œ"+f(c.value)+"ï¼",1),e[7]||(e[7]=a("p",null,"æ‚¨å·²æˆåŠŸç™»å½•å¹¼å„¿æ˜Ÿé—®å·ç®¡ç†ç³»ç»Ÿ",-1)),a("p",Y,"å½“å‰èº«ä»½ï¼š"+f(n.value),1)]),a("div",Z,[e[13]||(e[13]=a("h2",null,"å¿«é€Ÿæ“ä½œ",-1)),a("div",$,[u(i).hasManagementAccess?(m(),p(w,{key:0},[s(v,{class:"action-card",onClick:C},{cover:o(()=>e[8]||(e[8]=[a("div",{class:"card-icon"},"ğŸ“Š",-1)])),default:o(()=>[s(_,{title:"é—®å·ç®¡ç†",description:"æŸ¥çœ‹ã€ç¼–è¾‘å’Œç®¡ç†æ‚¨çš„é—®å·"})]),_:1}),s(v,{class:"action-card",onClick:E},{cover:o(()=>e[9]||(e[9]=[a("div",{class:"card-icon"},"â•",-1)])),default:o(()=>[s(_,{title:"åˆ›å»ºé—®å·",description:"åˆ›å»ºæ–°çš„é—®å·å’Œè¡¨å•"})]),_:1}),s(v,{class:"action-card",onClick:S},{cover:o(()=>e[10]||(e[10]=[a("div",{class:"card-icon"},"ğŸ“ˆ",-1)])),default:o(()=>[s(_,{title:"æ•°æ®ç»Ÿè®¡",description:"æŸ¥çœ‹é—®å·çš„ç»Ÿè®¡æ•°æ®å’Œç»“æœ"})]),_:1})],64)):V("",!0),s(v,{class:"action-card",onClick:h},{cover:o(()=>e[11]||(e[11]=[a("div",{class:"card-icon"},"ğŸ‘¤",-1)])),default:o(()=>[s(_,{title:"ç”¨æˆ·ä¸­å¿ƒ",description:"ç®¡ç†æ‚¨çš„è´¦æˆ·å’Œä¸ªäººä¿¡æ¯"})]),_:1}),s(v,{class:"action-card",onClick:T},{cover:o(()=>e[12]||(e[12]=[a("div",{class:"card-icon"},"ğŸ“",-1)])),default:o(()=>[s(_,{title:"å¡«å†™é—®å·",description:"å‚ä¸é—®å·è°ƒæŸ¥"})]),_:1})])])]),_:1})])}}},re=B(ee,[["__scopeId","data-v-3449b35d"]]);export{re as default};
